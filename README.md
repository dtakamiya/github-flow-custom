# github-flow-custom
github-flowを今のプロジェクトに合わせてカスタマイズしたflowです。

## 前提条件
- originは拠点１のリモートリポジトリ
- 拠点１のリモートリポジトリは特定のメジャーバージョン専用である
- 拠点２のリモートリポジトリ（マスター）
- 拠点３のリモートリポジトリ
- masterブランチは、拠点１と拠点２をマージした開発用ブランチ
- 拠点２/masterブランチは常にデプロイ可能である
- 拠点３は拠点１と拠点３で共有したいものだけを共有

## ルール案１
1. 作業用ブランチをmasterから作成する（例：new-xxxx-api）
2. 作業用ブランチを定期的にプッシュする
3. プルリクエストを活用する
4. プルリクエストが承認されたらmasterへマージする
5. masterから拠点２/masterブランチへマージする（管理者のみ）
6. 定期的に拠点２/masterからmasterブランチへマージ（rebase）する

## 開発フロー
### 作業者
1. 拠点１のリモートリポジトリを`git clone`する
2. 作業開始時に作業用ブランチをmasterブランチから作成する
3. ブランチ名は、何の作業を行っているかが分かる名前にする。また、作業用ブランチは定期的にリモートリポジトリにプッシュする。
4. プルリクエストを行う
5. 作業用ブランチをmasterブランチへマージできる状態になったら、プルリクエストを作成して他の開発者にコードレビューを依頼する。プルリクエストが承認されたらmasterへマージする。

### 管理者
1. 拠点2/masterブランチからmasterブランチへ定期的にマージを行う

参考サイト：https://www.atmarkit.co.jp/ait/articles/1708/01/news015.html
